# Домашнее задание к занятию SDBSQL-20 "Базы данных" - `Шорохов Вячеслав`

---
### Легенда

Заказчик передал вам [файл в формате Excel](hw-12-1.xlsx) в котором сформирован отчёт.

На основе этого отчёта нужно выполнить следующие задания.

### Задание 1

Опишите не менее семи таблиц, из которых состоит база данных:
- какие данные хранятся в этих таблицах;
- какой тип данных у столбцов в этих таблицах, если данные хранятся в PostgreSQL.

Приведите решение к следующему виду:
Сотрудники (
- идентификатор, первичный ключ, serial,
- фамилия varchar(50),
- ...
- идентификатор структурного подразделения, внешний ключ, integer).

### Решение:

##### 1 нормальная форма
Чтобы значения в столбцах были атомарными, необходимо разбить содержимое столбца "Адрес филиала" на три столбца: "Область", "Город", "Адрес".
Создадим несколько новых таблиц:

<ins>Области</ins>
* идентификатор, первичный ключ, *smallserial*
* область, *varchar(100)*

<ins>Города</ins> 
* идентификатор, первичный ключ, *smallserial*
* город, *varchar(50)*

<ins>Адреса</ins> 
* идентификатор, первичный ключ, *serial*
* адрес, *varchar(50)*

##### 2 нормальная форма
Добавим идентификатор, который станет первичным ключом для таблицы:

<ins>Сотрудники</ins> 
* идентификатор, первичный ключ, *serial*
* фио сотрудника, *varchar(100)*
* оклад, *money*
* должность, *varchar(50)*
* тип подразделения, *varchar(50)*
* структурное подразделение, *varchar(100)*
* дата найма, *date*
* идентификатор область, внешний ключ, *smallserial*
* идентификатор город, внешний ключ, *smallserial*
* идентификатор адрес, внешний ключ, *serial*
* проект на который назначен, *json*

##### 3 нормальная форма
Создадим следующие таблицы:

<ins>Должность</ins> 
* идентификатор, первичный ключ, *smallserial*
* должность, *varchar(50)*

<ins>Тип подраздления</ins> 
* идентификатор, первичный ключ, *smallserial*
* тип подразделения, *varchar(50)*

<ins>Адреса филиалов</ins> 
* идентификатор, первичный ключ, *smallserial*
* идентификатор область, внешний ключ, *smallserial*
* идентификатор город, внешний ключ, *smallserial*
* идентификатор адрес, внешний ключ, *serial*

<ins>Структурное подразделение</ins>
* идентификатор, первичный ключ, *smallserial*
* структурное подразделение, *varchar(100)*
* идентификатор адрес филиала, внешний ключ, *smallserial*
* идентификатор тип подразделения, внешний ключ, *smallserial*

<ins>Проекты</ins> 
* идентификатор, первичный ключ, *serial*
* проект, *json*
* идентификатор сотрудник, внешний ключ, *serial*

<ins>Оклады</ins> 
* идентификатор, первичный ключ, *serial*
* оклад, *money*
* идентификатор сотрудник, внешний ключ, *serial*

##### После нормализации изначальная таблица будет иметь вид:

<ins>Сотрудники</ins>
* идентификатор, первичный ключ, *serial*
* фио сотрудника, *varchar(100)*
* идентификатор должность, внешний ключ, *smallserial*
* идентификатор структурное подразделение, внешний ключ, *smallserial*
* дата найма, *date*

---